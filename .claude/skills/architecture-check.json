{
  "name": "architecture-check",
  "description": "Verify hexagonal architecture compliance: ensures domain layer has no Raylib imports and adapters don't leak into domain.",
  "version": "1.0.0",
  "parameters": {},
  "commands": [
    {
      "type": "bash",
      "command": "#!/bin/bash\ncd /home/kishlin/Workspace/2D-Drill\n\necho \"ğŸ—ï¸  Checking Architecture Compliance...\"\necho \"\"\n\nERRORS=0\n\n# Check 1: Domain layer should NOT import Raylib\necho \"[1/3] Checking domain layer for Raylib imports...\"\nRAYLIB_IN_DOMAIN=$(grep -r \"raylib-go\" internal/domain/ 2>/dev/null || true)\n\nif [ -n \"$RAYLIB_IN_DOMAIN\" ]; then\n  echo \"âŒ FAIL: Domain layer imports Raylib (violates hexagonal architecture)\"\n  echo \"$RAYLIB_IN_DOMAIN\"\n  ERRORS=$((ERRORS + 1))\nelse\n  echo \"âœ… PASS: Domain layer is framework-independent\"\nfi\n\necho \"\"\n\n# Check 2: Adapters should NOT be imported by domain\necho \"[2/3] Checking that domain doesn't import adapters...\"\nADAPTER_IN_DOMAIN=$(grep -r \"internal/adapters\" internal/domain/ 2>/dev/null || true)\n\nif [ -n \"$ADAPTER_IN_DOMAIN\" ]; then\n  echo \"âŒ FAIL: Domain imports adapters (wrong dependency direction)\"\n  echo \"$ADAPTER_IN_DOMAIN\"\n  ERRORS=$((ERRORS + 1))\nelse\n  echo \"âœ… PASS: Domain doesn't depend on adapters\"\nfi\n\necho \"\"\n\n# Check 3: Domain types should use custom Vec2, not rl.Vector2\necho \"[3/3] Checking domain uses custom types (not Raylib types)...\"\nRL_TYPES_IN_DOMAIN=$(grep -r \"rl\\.Vector2\\|rl\\.Color\\|rl\\.Rectangle\" internal/domain/ 2>/dev/null || true)\n\nif [ -n \"$RL_TYPES_IN_DOMAIN\" ]; then\n  echo \"âŒ FAIL: Domain uses Raylib types directly\"\n  echo \"$RL_TYPES_IN_DOMAIN\"\n  ERRORS=$((ERRORS + 1))\nelse\n  echo \"âœ… PASS: Domain uses custom types\"\nfi\n\necho \"\"\necho \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\"\n\nif [ $ERRORS -eq 0 ]; then\n  echo \"âœ… Architecture compliance: PASSED\"\n  echo \"   Domain layer is clean and portable!\"\n  exit 0\nelse\n  echo \"âŒ Architecture compliance: FAILED ($ERRORS violation(s))\"\n  echo \"   Fix violations to maintain clean architecture\"\n  exit 1\nfi"
    }
  ]
}

